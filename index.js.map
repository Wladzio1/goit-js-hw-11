{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n});\n\nconst gallery = document.querySelector('.gallery');\nconst galleryLoader = document.getElementById('gallery-loader');\n\nfunction createGallery(images) {\n  gallery.innerHTML = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n      `\n    )\n    .join('');\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  if (galleryLoader) {\n    galleryLoader.hidden = false;\n  } else {\n    if (!gallery.querySelector('.loader')) {\n      const li = document.createElement('li');\n      li.className = 'loader';\n      li.setAttribute('role', 'status');\n      li.setAttribute('aria-live', 'polite');\n      li.textContent = 'Loadingâ€¦';\n      gallery.appendChild(li);\n    }\n  }\n}\n\nfunction hideLoader() {\n  if (galleryLoader) {\n    galleryLoader.hidden = true;\n    return;\n  }\n\n  const loader = gallery.querySelector('.loader');\n  if (loader) loader.remove();\n}\n","import axios from 'axios';\nexport { getImagesByQuery };\n\nfunction getImagesByQuery(query) {\n  const defaultURL = 'https://pixabay.com/api/';\n\n  return axios\n    .get(defaultURL, {\n      params: {\n        key: '53786038-2f78b187bec1188a9f35774b8',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data.hits)\n    .then(response => {\n      if (response.length === 0) {\n        throw 'Sorry, there are no images matching your search query. Please try again!';\n      }\n      return response;\n    })\n    .catch(error => console.log(error));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'loaders.css/loaders.css';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.form');\nconst inputField = document.querySelector('input[name=\"search-text\"]');\nconst submitButton = document.querySelector('button[type=\"submit\"]');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = inputField.value.trim();\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n  if (submitButton) submitButton.disabled = true;\n\n  getImagesByQuery(query)\n    .then(images => {\n      if (!images || images.length === 0) {\n        iziToast.info({\n          title: 'Info',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      createGallery(images);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: (error && error.message) || String(error),\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      if (submitButton) submitButton.disabled = false;\n    });\n});\n"],"names":["lightbox","SimpleLightbox","gallery","galleryLoader","createGallery","images","image","clearGallery","showLoader","li","hideLoader","loader","getImagesByQuery","query","axios","response","error","searchForm","inputField","submitButton","event","iziToast"],"mappings":"owBAKA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,MACf,CAAC,EAEKC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAgB,SAAS,eAAe,gBAAgB,EAE9D,SAASC,EAAcC,EAAQ,CAC7BH,EAAQ,UAAYG,EACjB,IACCC,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,OAG5D,EACK,KAAK,EAAE,EACVN,EAAS,QAAO,CAClB,CAEA,SAASO,GAAe,CACtBL,EAAQ,UAAY,EACtB,CAEA,SAASM,GAAa,CACpB,GAAIL,EACFA,EAAc,OAAS,WAEnB,CAACD,EAAQ,cAAc,SAAS,EAAG,CACrC,MAAMO,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,SACfA,EAAG,aAAa,OAAQ,QAAQ,EAChCA,EAAG,aAAa,YAAa,QAAQ,EACrCA,EAAG,YAAc,WACjBP,EAAQ,YAAYO,CAAE,CACxB,CAEJ,CAEA,SAASC,GAAa,CACpB,GAAIP,EAAe,CACjBA,EAAc,OAAS,GACvB,MACF,CAEA,MAAMQ,EAAST,EAAQ,cAAc,SAAS,EAC1CS,GAAQA,EAAO,OAAM,CAC3B,CCpDA,SAASC,EAAiBC,EAAO,CAG/B,OAAOC,EACJ,IAHgB,2BAGA,CACf,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CACA,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,KAAKA,GAAY,CAChB,GAAIA,EAAS,SAAW,EACtB,KAAM,2EAER,OAAOA,CACT,CAAC,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCZA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,2BAA2B,EAC/DC,EAAe,SAAS,cAAc,uBAAuB,EAEnEF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMP,EAAQK,EAAW,MAAM,KAAI,EACnC,GAAIL,IAAU,GAAI,CAChBQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACF,CAEAd,EAAY,EACZC,EAAU,EACNW,IAAcA,EAAa,SAAW,IAE1CP,EAAiBC,CAAK,EACnB,KAAKR,GAAU,CACd,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAClCgB,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACF,CAEAjB,EAAcC,CAAM,CACtB,CAAC,EACA,MAAMW,GAAS,CACdK,EAAS,MAAM,CACb,MAAO,QACP,QAAUL,GAASA,EAAM,SAAY,OAAOA,CAAK,EACjD,SAAU,UAClB,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbN,EAAU,EACNS,IAAcA,EAAa,SAAW,GAC5C,CAAC,CACL,CAAC"}