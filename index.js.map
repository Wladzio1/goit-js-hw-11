{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n});\n\nconst gallery = document.querySelector('.gallery');\n\nfunction createGallery(images) {\n  gallery.innerHTML = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n      `\n    )\n    .join('');\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  gallery.innerHTML = '<div class=\"loader\">Loading...</div>';\n}\n\nfunction hideLoader() {\n  const loader = gallery.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n","import axios from 'axios';\nexport { getImagesByQuery };\n\nfunction getImagesByQuery(query) {\n  const defaultURL = 'https://pixabay.com/api/';\n\n  return axios\n    .get(defaultURL, {\n      params: {\n        key: '53786038-2f78b187bec1188a9f35774b8',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data.hits)\n    .then(response => {\n      if (response.length === 0) {\n        throw 'Sorry, there are no images matching your search query. Please try again!';\n      }\n      return response;\n    })\n    .catch(error => console.log(error));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.form');\nconst inputField = document.querySelector('input[name=\"search-text\"]');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = inputField.value.trim();\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n    });\n    return;\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.length === 0) {\n        throw 'Sorry, there are mo images matching your search query. Please try again!';\n      }\n      createGallery(images);\n      hideLoader();\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message: error,\n        position: 'topRight',\n      });\n    });\n});\n"],"names":["lightbox","SimpleLightbox","gallery","createGallery","images","image","clearGallery","showLoader","hideLoader","loader","getImagesByQuery","query","axios","response","error","searchForm","inputField","event","iziToast"],"mappings":"owBAKA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,MACf,CAAC,EAEKC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAQ,CAC7BF,EAAQ,UAAYE,EACjB,IACCC,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,OAG5D,EACK,KAAK,EAAE,EACVL,EAAS,QAAO,CAClB,CAEA,SAASM,GAAe,CACtBJ,EAAQ,UAAY,EACtB,CAEA,SAASK,GAAa,CACpBL,EAAQ,UAAY,sCACtB,CAEA,SAASM,GAAa,CACpB,MAAMC,EAASP,EAAQ,cAAc,SAAS,EAC1CO,GACFA,EAAO,OAAM,CAEjB,CCrCA,SAASC,EAAiBC,EAAO,CAG/B,OAAOC,EACJ,IAHgB,2BAGA,CACf,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CACA,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,KAAKA,GAAY,CAChB,GAAIA,EAAS,SAAW,EACtB,KAAM,2EAER,OAAOA,CACT,CAAC,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCdA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,2BAA2B,EAErED,EAAW,iBAAiB,SAAUE,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMN,EAAQK,EAAW,MAAM,KAAI,EACnC,GAAIL,IAAU,GAAI,CAChBO,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACF,CACAZ,EAAY,EACZC,EAAU,EACVG,EAAiBC,CAAK,EACnB,KAAKP,GAAU,CACd,GAAIA,EAAO,SAAW,EACpB,KAAM,2EAERD,EAAcC,CAAM,EACpBI,EAAU,CACZ,CAAC,EACA,MAAMM,GAAS,CACdN,EAAU,EACVU,EAAS,MAAM,CACb,MAAO,QACP,QAASJ,EACT,SAAU,UAClB,CAAO,CACH,CAAC,CACL,CAAC"}